动态代理常用的两种方式是基于接口的动态代理（JDK 动态代理）和基于类的动态代理（CGLIB 动态代理）。
### 1. JDK 动态代理
JDK 动态代理是 Java 标准库提供的一种动态代理机制，它依赖于接口来创建代理对象。JDK 动态代理通过java.lang.reflect.Proxy类和java.lang.reflect.InvocationHandler接口实现。
#### 适用场景

- 当你有一个接口并希望为该接口的实现类创建代理时，可以使用 JDK 动态代理。
### 2. CGLIB 动态代理
CGLIB（Code Generation Library）是一个强大的高性能代码生成库，它通过生成子类的方式来为目标类创建代理对象。CGLIB 动态代理不需要接口，可以直接代理类。
#### 适用场景

- 当你没有接口，只有具体类时，可以使用 CGLIB 动态代理。
- 当你需要代理的类很多且不想为每个类都定义接口时，CGLIB 动态代理是一个很好的选择。
### 比较

- **依赖性**：
   - JDK 动态代理依赖于接口，如果没有接口就无法使用。
   - CGLIB 动态代理可以直接代理类，不需要接口。
- **性能**：
   - JDK 动态代理在某些情况下性能较高，但由于需要通过反射调用方法，性能可能会有所影响。
   - CGLIB 动态代理通过生成字节码来创建代理类，性能通常比 JDK 动态代理更高，但生成字节码的过程会稍微多占用一些内存。
- **使用场景**：
   - JDK 动态代理适用于有接口的情况，适用于大多数常见的业务场景。
   - CGLIB 动态代理适用于没有接口的情况，适用于需要代理大量具体类的场景。
### 总结
动态代理可以在运行时动态生成代理类，从而增强或修改现有类的行为。JDK 动态代理适用于接口代理，而 CGLIB 动态代理适用于类代理。
