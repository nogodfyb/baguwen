MySQL 中的聚集索引（Clustered Index）是指数据表的记录按照索引的顺序进行物理存储。也就是说，表中的数据行和索引行一起存储，并且数据行的顺序与索引的顺序相同。聚集索引的特点是索引的叶节点包含了实际的数据行。<br />在 MySQL 中，InnoDB 存储引擎默认使用聚集索引。InnoDB 表必须有一个聚集索引，如果没有显式定义主键，InnoDB 会选择一个唯一的非空索引作为聚集索引。如果没有这样的索引，InnoDB 会自动生成一个隐藏的聚集索引。
### 特点

1. **物理顺序存储**：数据行按照索引键的顺序存储在数据页中。
2. **叶节点包含数据**：聚集索引的叶节点包含了实际的数据行。
3. **只能有一个**：每个数据表只能有一个聚集索引，因为数据行只能按一种顺序存储。
### 优点

1. **查询效率高**：对于基于聚集索引的范围查询和排序操作，效率较高，因为数据行是按索引顺序存储的。
2. **覆盖索引**：在某些查询中，聚集索引可以充当覆盖索引，从而减少读取数据的次数。
### 缺点

1. **插入速度较慢**：在插入新记录时，可能需要移动大量数据行以保持索引顺序。
2. **更新代价高**：更新聚集索引键值时，可能导致数据行的重新排序。
3. **占用更多存储空间**：由于数据行和索引一起存储，可能占用更多的存储空间。
### 示例
假设有一个表employees，包含以下列：
```
CREATETABLE employees (
    emp_id INTPRIMARY KEY,
    first_name VARCHAR(50),
    last_name VARCHAR(50),
    hire_date DATE
) ENGINE=InnoDB;
```
在这个表中，emp_id是主键，并且默认情况下，InnoDB 会将emp_id列作为聚集索引。数据行将按照emp_id的顺序存储。
### 使用注意

- **选择合适的列**：选择频繁用于查询、排序和范围查询的列作为聚集索引的键。
- **避免频繁更新的列**：避免选择那些频繁更新的列作为聚集索引键，以减少维护成本。
