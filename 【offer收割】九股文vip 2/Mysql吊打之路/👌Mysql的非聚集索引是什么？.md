MySQL 的非聚集索引（Non-Clustered Index），也称为辅助索引或二级索引，是指索引的叶节点不包含实际的数据行，而是包含指向数据行的指针（通常是聚集索引键）。非聚集索引的主要作用是加速特定列上的查询操作，而不改变数据行的物理存储顺序。记录的物理顺序与逻辑顺序没有必然的联系。
### 特点

1. **独立于数据存储顺序**：非聚集索引不会改变数据行的物理存储顺序，数据行的顺序由聚集索引决定。
2. **叶节点包含指针**：非聚集索引的叶节点存储的是指向实际数据行的指针（如聚集索引键），而不是数据行本身。
3. **可以有多个**：一个表可以有多个非聚集索引，每个非聚集索引加速不同列上的查询操作。
### 优点

1. **加速查询**：非聚集索引可以显著加速特定列上的查询操作，特别是那些经常出现在 WHERE 子句中的列。
2. **多样性**：可以在多个列上创建非聚集索引，以满足不同查询需求。
### 缺点

1. **占用空间**：非聚集索引需要额外的存储空间来维护索引结构。
2. **维护成本**：在插入、更新和删除操作时，需要维护非聚集索引，可能会增加开销。
### 示例
假设有一个表employees，包含以下列：
```
CREATETABLE employees (
    emp_id INTPRIMARY KEY,
    first_name VARCHAR(50),
    last_name VARCHAR(50),
    hire_date DATE
) ENGINE=InnoDB;
```
在这个表中，emp_id是聚集索引。如果我们在last_name列上创建一个非聚集索引：
```
CREATE INDEX idx_last_name ON employees(last_name);
```
### 查询示例
假设我们执行以下查询：
```
SELECT*FROM employees WHERE last_name ='Smith';
```
MySQL 会使用idx_last_name非聚集索引来查找last_name为 'Smith' 的记录。非聚集索引的叶节点包含指向实际数据行的指针（即emp_id），MySQL 会根据这些指针访问实际的数据行。
