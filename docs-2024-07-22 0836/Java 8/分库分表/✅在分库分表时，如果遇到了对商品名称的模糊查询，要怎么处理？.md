# 典型回答

在分库分表中，尤其是针对海量商品做了水平分表后，商品的数据会分散到很多张不同的分表中，那么，如果前端用户想要查询某个商品怎么办呢？

我看网上有很多各种所谓的奇技淫巧，其实，真正可行的办法就一个，那就是上搜索引擎的， 比如Elasticsearch。

且不说分库分表，就是数据量超过几千万的这种模糊查询的话，数据库你用 like 去查询也都扛不住，因为`%hollis%`没办法走索引，性能也很差。

[✅什么是最左前缀匹配？为什么要遵守？](https://www.yuque.com/hollis666/fo22bm/cc9mglopp4nigg59?view=doc_embed)

所以，这个地方，该上搜索引擎还是要上的；

方案就是把数据同步到 ES 中一份，然后基于 ES 针对商品名称构建倒排索引，这样在分词后就可以做全文索引提升查询效率了。

[✅倒排索引是什么？](https://www.yuque.com/hollis666/fo22bm/odblb5rdxr4ec9vg?view=doc_embed)
